{"version":3,"file":"common.js","sourceRoot":"","sources":["common.ts"],"names":[],"mappings":"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","sourcesContent":["export class Common {\n  static VALID_PARAMS = [\n    'server_no_context_takeover',\n    'client_no_context_takeover',\n    'server_max_window_bits',\n    'client_max_window_bits'\n  ];\n  static MAX_WINDOW_BITS   = 15;\n  static VALID_WINDOW_BITS = [8, 9, 10, 11, 12, 13, 14, 15];\n\n  static concat(buffers, length) {\n    var buffer = new Buffer(length),\n        offset = 0;\n\n    for (var i = 0, n = buffers.length; i < n; i++) {\n      buffers[i].copy(buffer, offset);\n      offset += buffers[i].length;\n    }\n    return buffer;\n  }\n  static fetch(options, key, _default) {\n    if (options.hasOwnProperty(key))\n      return options[key];\n    else\n      return _default;\n  }\n  static validateOptions(options, validKeys) {\n    for (var key in options) {\n      if (validKeys.indexOf(key) < 0)\n        throw new Error('Unrecognized option: ' + key);\n    }\n  }\n  static validParams(params) {\n    var keys = Object.keys(params), i = keys.length;\n    while (i--) {\n      if (this.VALID_PARAMS.indexOf(keys[i]) < 0) return false;\n      if (Array.isArray(params[keys[i]])){\n        return false;\n      }\n    }\n    if (params.hasOwnProperty('server_no_context_takeover')) {\n      if (params.server_no_context_takeover !== true) return false;\n    }\n    if (params.hasOwnProperty('client_no_context_takeover')) {\n      if (params.client_no_context_takeover !== true) return false;\n    }\n    if (params.hasOwnProperty('server_max_window_bits')) {\n      if (this.VALID_WINDOW_BITS.indexOf(params.server_max_window_bits) < 0) return false;\n    }\n    return true;\n  }\n}\n\n"]}