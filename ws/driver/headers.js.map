{"version":3,"file":"headers.js","sourceRoot":"","sources":["headers.ts"],"names":[],"mappings":";IACA;QASS,uBAAK,GAAZ;YACE,IAAI,CAAC,KAAK,GAAI,EAAE,CAAC;YACjB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACnB,CAAC;QACM,qBAAG,GAAV,UAAW,IAAI,EAAE,KAAK;YACpB,EAAE,CAAC,CAAC,KAAK,KAAK,SAAS,CAAC;gBAAC,MAAM,CAAC;YAEhC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YACzB,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAE3B,IAAI,GAAG,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;YAC7B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACjF,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,GAAG,KAAK,GAAG,MAAM,CAAC,CAAC;YACjD,CAAC;QACH,CAAC;QACM,0BAAQ,GAAf;YACE,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC9B,CAAC;QACO,wBAAM,GAAd,UAAe,MAAM;YACnB,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;QACjE,CAAC;QACH,cAAC;QAzBC;YALO,uBAAkB,GAAG,CAAC,YAAY,EAAE,aAAa,EAAE,SAAS,EAAE,kBAAkB,CAAC,CAAC;YAMvF,IAAI,CAAC,KAAK,EAAE,CAAC;QACf,CAAC;IAuBH,CAAC,AA/BD,IA+BC;;IA/BD,iCA+BC,CAAA;;;;YA/BD,sBAAA,OA+BC","sourcesContent":["\nexport class Headers {\n  public ALLOWED_DUPLICATES = ['set-cookie', 'set-cookie2', 'warning', 'www-authenticate'];\n\n  private _sent;\n  private _lines;\n\n  constructor() {\n    this.clear();\n  }\n  public clear() {\n    this._sent  = {};\n    this._lines = [];\n  }\n  public set(name, value) {\n    if (value === undefined) return;\n\n    name = this._strip(name);\n    value = this._strip(value);\n\n    var key = name.toLowerCase();\n    if (!this._sent.hasOwnProperty(key) || this.ALLOWED_DUPLICATES.indexOf(key) >= 0) {\n      this._sent[key] = true;\n      this._lines.push(name + ': ' + value + '\\r\\n');\n    }\n  }\n  public toString() {\n    return this._lines.join('');\n  }\n  private _strip(string) {\n    return string.toString().replace(/^ */, '').replace(/ *$/, '');\n  }\n}\n"]}